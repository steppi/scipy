

<!DOCTYPE html>


<html lang="en" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Sparse Arrays (scipy.sparse) &#8212; SciPy vinteractive-docs-deploy Manual</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/plot_directive.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Vibur" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyterlite_sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/scipy.css" />
    <link rel="stylesheet" type="text/css" href="../_static/try_examples.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/jupyterlite_sphinx.js"></script>
    <script src="../_static/design-tabs.js"></script>
    <script data-domain="docs.scipy.org" defer="defer" src="https://views.scientific-python.org/js/script.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'tutorial/sparse';</script>
    <script>
        DOCUMENTATION_OPTIONS.theme_version = '0.15.2';
        DOCUMENTATION_OPTIONS.theme_switcher_json_url = 'https://scipy.github.io/devdocs/_static/version_switcher.json';
        DOCUMENTATION_OPTIONS.theme_switcher_version_match = 'interactive-docs-deploy';
        DOCUMENTATION_OPTIONS.show_version_warning_banner = true;
        </script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Sparse eigenvalue problems with ARPACK" href="arpack.html" />
    <link rel="prev" title="Linear Algebra (scipy.linalg)" href="linalg.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
    <meta name="docbuild:last-update" content="Mar 08, 2024"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.svg" class="logo__image only-light" alt="SciPy vinteractive-docs-deploy Manual - Home"/>
    <script>document.write(`<img src="../_static/logo.svg" class="logo__image only-dark" alt="SciPy vinteractive-docs-deploy Manual - Home"/>`);</script>
  
  
</a></div>
    
      <div class="navbar-item">
<script>
document.write(`
  <div class="version-switcher__container dropdown">
    <button id="pst-version-switcher-button-2"
      type="button"
      class="version-switcher__button btn btn-sm navbar-btn dropdown-toggle"
      data-bs-toggle="dropdown"
      aria-haspopup="listbox"
      aria-controls="pst-version-switcher-list-2"
      aria-label="Version switcher list"
    >
      Choose version  <!-- this text may get changed later by javascript -->
      <span class="caret"></span>
    </button>
    <div id="pst-version-switcher-list-2"
      class="version-switcher__menu dropdown-menu list-group-flush py-0"
      role="listbox" aria-labelledby="pst-version-switcher-button-2">
      <!-- dropdown will be populated by javascript on page load -->
    </div>
  </div>
`);
</script></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://scipy.org/install/">
                        Installing
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../building/index.html">
                        Building from source
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev/index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../release.html">
                        Release notes
                      </a>
                    </li>
                
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scipy/scipy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/SciPy_team" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-external" href="https://scipy.org/install/">
                        Installing
                      </a>
                    </li>
                

                    <li class="nav-item current active">
                      <a class="nav-link nav-internal" href="index.html">
                        User Guide
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../reference/index.html">
                        API reference
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../building/index.html">
                        Building from source
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../dev/index.html">
                        Development
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../release.html">
                        Release notes
                      </a>
                    </li>
                
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/scipy/scipy" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/SciPy_team" title="Twitter" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links" aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav">
    <p aria-level="2" class="caption" role="heading"><span class="caption-text">User guide</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="special.html">Special functions (<code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.special</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="integrate.html">Integration (<code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.integrate</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimize.html">Optimization (<code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.optimize</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpolate.html">Interpolation (<code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.interpolate</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="fft.html">Fourier Transforms (<code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.fft</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="signal.html">Signal Processing (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.signal</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="linalg.html">Linear Algebra (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.linalg</span></code>)</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Sparse Arrays (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="arpack.html">Sparse eigenvalue problems with ARPACK</a></li>
<li class="toctree-l1"><a class="reference internal" href="csgraph.html">Compressed Sparse Graph Routines (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.csgraph</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="spatial.html">Spatial data structures and algorithms (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.spatial</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="stats.html">Statistics (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.stats</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ndimage.html">Multidimensional image processing (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.ndimage</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="io.html">File IO (<code class="xref py py-mod docutils literal notranslate"><span class="pre">scipy.io</span></code>)</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Executable tutorials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../notebooks/interp_transition_guide.html">Interpolate transition guide</a></li>
</ul>

  </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="index.html" class="nav-link">SciPy User Guide</a></li>
    
    <li class="breadcrumb-item active" aria-current="page">Sparse...</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="sparse-arrays-scipy-sparse">
<span id="sparsetutorial"></span><h1>Sparse Arrays (<a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a>)<a class="headerlink" href="#sparse-arrays-scipy-sparse" title="Permalink to this heading">#</a></h1>
<section id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this heading">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">scipy.sparse</span></code> and its submodules provide tools for working with <em>sparse arrays</em>. Sparse arrays are arrays where only a few locations in the array have any data, most of the locations are considered as “empty”. Sparse arrays are useful because they allow for simpler, faster, and/or less memory-intensive algorithms for linear algebra (<a class="reference internal" href="../reference/sparse.linalg.html#module-scipy.sparse.linalg" title="scipy.sparse.linalg"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.linalg</span></code></a>) or graph-based computations (<a class="reference internal" href="../reference/sparse.csgraph.html#module-scipy.sparse.csgraph" title="scipy.sparse.csgraph"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.csgraph</span></code></a>), but they are generally less flexible for operations like slicing, reshaping, or assignment. This guide will introduce the basics of sparse arrays in <a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a>, explain the unique aspects of sparse data structures, and refer onward for other sections of the user guide explaining <a class="reference external" href="https://docs.scipy.org/doc/scipy/tutorial/arpack.html">sparse linear algebra</a> and <a class="reference external" href="https://docs.scipy.org/doc/scipy/tutorial/csgraph.html">graph methods</a>.</p>
</section>
<section id="getting-started-with-sparse-arrays">
<h2>Getting started with sparse arrays<a class="headerlink" href="#getting-started-with-sparse-arrays" title="Permalink to this heading">#</a></h2>
<p>Sparse arrays are a special kind of array where only a few locations in the array have data. This allows for <em>compressed</em> representations of the data to be used, where only the locations where data exists are recorded. There are many different sparse array formats, each of which makes a different tradeoff between compression and functionality. To start, let’s build a very simple sparse array, the Coordinate (COO) array (<a class="reference internal" href="../reference/generated/scipy.sparse.coo_array.html#scipy.sparse.coo_array" title="scipy.sparse.coo_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">coo_array</span></code></a>) and compare it to a dense array:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy</span> <span class="k">as</span> <span class="nn">sp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">coo_array</span><span class="p">(</span><span class="n">dense</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span>
<span class="go">array([[1, 0, 0, 2],</span>
<span class="go">    [0, 4, 1, 0],</span>
<span class="go">    [0, 0, 5, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span>
<span class="go">&lt;3x4 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">      with 5 stored elements in COOrdinate format&gt;</span>
</pre></div>
</div>
<p>Note that in our dense array, we have five nonzero values. For example, <code class="docutils literal notranslate"><span class="pre">2</span></code> is at location <code class="docutils literal notranslate"><span class="pre">0,3</span></code>, and <code class="docutils literal notranslate"><span class="pre">4</span></code> is at location <code class="docutils literal notranslate"><span class="pre">1,1</span></code>. All of the other values are zero. The sparse array records these five values <em>explicitly</em> (see the <code class="docutils literal notranslate"><span class="pre">5</span> <span class="pre">stored</span> <span class="pre">elements</span> <span class="pre">in</span> <span class="pre">COOrdinate</span> <span class="pre">format</span></code>), and then represents all of the remaining zeros as <em>implicit</em> values.</p>
<p>Most sparse array methods work in a similar fashion to dense array methods:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">1.0833333333333333</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="go">1.0833333333333333</span>
</pre></div>
</div>
<p>A few “extra” properties, such as <code class="docutils literal notranslate"><span class="pre">.nnz</span></code> which returns the number of stored values, are present on sparse arrays as well:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span><span class="o">.</span><span class="n">nnz</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Most of the reduction operations, such as <code class="docutils literal notranslate"><span class="pre">.mean()</span></code>, <code class="docutils literal notranslate"><span class="pre">.sum()</span></code>, or <code class="docutils literal notranslate"><span class="pre">.max()</span></code> will return a numpy array when applied over an axis of the sparse array:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([0.75, 1.25, 1.25])</span>
</pre></div>
</div>
<p>This is because reductions over sparse arrays are often dense.</p>
</section>
<section id="understanding-sparse-array-formats">
<h2>Understanding sparse array formats<a class="headerlink" href="#understanding-sparse-array-formats" title="Permalink to this heading">#</a></h2>
<p>Different kinds of sparse arrays have different capabilities. For example, COO arrays cannot be subscripted or sliced:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="go">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">&#39;coo_array&#39; object is not subscriptable</span>
</pre></div>
</div>
<p>But, other formats, such as the Compressed Sparse Row (CSR) <a class="reference internal" href="../reference/generated/scipy.sparse.csr_array.html#scipy.sparse.csr_array" title="scipy.sparse.csr_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">csr_array</span></code></a> support slicing and element indexing:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span><span class="o">.</span><span class="n">tocsr</span><span class="p">()[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Sometimes, <a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a> will return a different sparse matrix format than the input sparse matrix format. For example, the dot product of two sparse arrays in COO format will be a CSR format array:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sparse</span> <span class="o">@</span> <span class="n">sparse</span><span class="o">.</span><span class="n">T</span>
<span class="go">&lt;3x3 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">     with 5 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>This change occurs because <a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a> will change the format of input sparse arrays in order to use the most efficient computational method.</p>
<p>The <a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a> module contains the following formats, each with their own distinct advantages and disadvantages:</p>
<ul class="simple">
<li><p>Block Sparse Row (BSR) arrays <a class="reference internal" href="../reference/generated/scipy.sparse.bsr_array.html#scipy.sparse.bsr_array" title="scipy.sparse.bsr_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.bsr_array</span></code></a>, which are most appropriate when the parts of the array with data occur in contiguous blocks.</p></li>
<li><p>Coordinate (COO) arrays <a class="reference internal" href="../reference/generated/scipy.sparse.coo_array.html#scipy.sparse.coo_array" title="scipy.sparse.coo_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.coo_array</span></code></a>, which provide a simple way to construct sparse arrays and modify them in place. COO can also be quickly converted into other formats, such CSR, CSC, or BSR.</p></li>
<li><p>Compressed Sparse Row (CSR) arrays <a class="reference internal" href="../reference/generated/scipy.sparse.csr_array.html#scipy.sparse.csr_array" title="scipy.sparse.csr_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.csr_array</span></code></a>, which are most useful for fast arithmetic, vector products, and slicing by row.</p></li>
<li><p>Compressed Sparse Column (CSC) arrays <a class="reference internal" href="../reference/generated/scipy.sparse.csc_array.html#scipy.sparse.csc_array" title="scipy.sparse.csc_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.csc_array</span></code></a>, which are most useful for fast arithmetic, vector products, and slicing by column.</p></li>
<li><p>Diagonal (DIA) arrays <a class="reference internal" href="../reference/generated/scipy.sparse.dia_array.html#scipy.sparse.dia_array" title="scipy.sparse.dia_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.dia_array</span></code></a>, which are useful for efficient storage and fast arithmetic so long as the data primarily occurs along diagonals of the array.</p></li>
<li><p>Dictionary of Keys (DOK) arrays <a class="reference internal" href="../reference/generated/scipy.sparse.dok_array.html#scipy.sparse.dok_array" title="scipy.sparse.dok_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.dok_array</span></code></a>, which are useful for fast construction and single-element access.</p></li>
<li><p>List of Lists (LIL) arrays <a class="reference internal" href="../reference/generated/scipy.sparse.lil_array.html#scipy.sparse.lil_array" title="scipy.sparse.lil_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.lil_array</span></code></a>, which are useful for fast construction and modification of sparse arrays.</p></li>
</ul>
<p>More information on the strengths and weaknesses of each of the sparse array formats can be found in <a class="reference external" href="https://docs.scipy.org/doc/scipy/reference/sparse.html#sparse-array-classes">their documentation</a>.</p>
<p>All formats of <a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a> arrays can be constructed directly from a <a class="reference external" href="https://numpy.org/devdocs/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v2.0.dev0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>. However, some sparse formats can be constructed in different ways, too. Each sparse array format has different strengths, and these strengths are documented in each class. For example, one of the most common methods for constructing sparse arrays is to build a sparse array from the individual <code class="docutils literal notranslate"><span class="pre">row</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code>, and <code class="docutils literal notranslate"><span class="pre">data</span></code> values. For our array from before:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span>
<span class="go">array([[1, 0, 0, 2],</span>
<span class="go">    [0, 4, 1, 0],</span>
<span class="go">    [0, 0, 5, 0]])</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">row</span></code>, <code class="docutils literal notranslate"><span class="pre">column</span></code>, and <code class="docutils literal notranslate"><span class="pre">data</span></code> arrays describe the rows, columns, and values where our sparse array has entries:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>Using these, we can now define a sparse array without building a dense array first:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">csr_array</span><span class="p">((</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span>
<span class="go">&lt;3x4 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">     with 5 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>Different classes have different constructors, but the <a class="reference internal" href="../reference/generated/scipy.sparse.csr_array.html#scipy.sparse.csr_array" title="scipy.sparse.csr_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.csr_array</span></code></a>, <a class="reference internal" href="../reference/generated/scipy.sparse.csc_array.html#scipy.sparse.csc_array" title="scipy.sparse.csc_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.csc_array</span></code></a>, and <a class="reference internal" href="../reference/generated/scipy.sparse.coo_array.html#scipy.sparse.coo_array" title="scipy.sparse.coo_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">scipy.sparse.coo_array</span></code></a> allow for this style of construction.</p>
</section>
<section id="sparse-arrays-implicit-zeros-and-duplicates">
<h2>Sparse arrays, implicit zeros, and duplicates<a class="headerlink" href="#sparse-arrays-implicit-zeros-and-duplicates" title="Permalink to this heading">#</a></h2>
<p>Sparse arrays are useful because they represent much of their values <em>implicitly</em>, without storing an actual placeholder value. In <a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a>, the value used to represent “no data” is an <em>implicit zero</em>. This can be confusing when <em>explicit zeros</em> are required. For example, in <a class="reference external" href="https://docs.scipy.org/doc/scipy/tutorial/csgraph.html">graph methods</a> from <a class="reference internal" href="../reference/sparse.csgraph.html#module-scipy.sparse.csgraph" title="scipy.sparse.csgraph"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse.csgraph</span></code></a>, we often need to be able to distinguish between (A) a link connecting nodes <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code> with zero weight and (B) no link between <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code>. Sparse matrices can do this, so long as we keep the <em>explicit</em> and <em>implicit</em> zeros in mind.</p>
<p>For example, in our previous <code class="docutils literal notranslate"><span class="pre">csr</span></code> array, we could include an explicit zero by including it in the <code class="docutils literal notranslate"><span class="pre">data</span></code> list. Let’s treat the final entry in the array at the bottom row and last column as an <em>explicit zero</em>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Then, our sparse array will have <em>six</em> stored elements, not five:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">csr_array</span><span class="p">((</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span>
<span class="go">&lt;3x4 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">     with 6 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>The “extra” element is our <em>explicit zero</em>. The two are still identical when converted back into a dense array, because dense arrays represent <em>everything</em> explicitly:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span><span class="o">.</span><span class="n">todense</span><span class="p">()</span>
<span class="go">array([[1, 0, 0, 2],</span>
<span class="go">    [0, 4, 1, 0],</span>
<span class="go">    [0, 0, 5, 0]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dense</span>
<span class="go">array([[1, 0, 0, 2],</span>
<span class="go">    [0, 4, 1, 0],</span>
<span class="go">    [0, 0, 5, 0]])</span>
</pre></div>
</div>
<p>But, for sparse arithmetic, linear algebra, and graph methods, the value at <code class="docutils literal notranslate"><span class="pre">2,3</span></code> will be considered an <em>explicit zero</em>. To remove this explicit zero, we can use the <code class="docutils literal notranslate"><span class="pre">csr.eliminate_zeros()</span></code> method. This operates on the sparse array <em>in place</em>, and removes any zero-value stored elements:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span>
<span class="go">&lt;3x4 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">     with 6 stored elements in Compressed Sparse Row format&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span><span class="o">.</span><span class="n">eliminate_zeros</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">csr</span>
<span class="go">&lt;3x4 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">     with 5 stored elements in Compressed Sparse Row format&gt;</span>
</pre></div>
</div>
<p>Before <code class="docutils literal notranslate"><span class="pre">csr.eliminate_zeros()</span></code>, there were six stored elements. After, there are only five stored elements.</p>
<p>Another point of complication arises from how <em>duplicates</em> are processed when constructing a sparse array. A <em>duplicate</em> can occur when we have two or more entries at <code class="docutils literal notranslate"><span class="pre">row,col</span></code> when constructing a sparse array. This often occurs when building sparse arrays using the <code class="docutils literal notranslate"><span class="pre">data</span></code>, <code class="docutils literal notranslate"><span class="pre">row</span></code>, and <code class="docutils literal notranslate"><span class="pre">col</span></code> vectors. For example, we might represent our previous array with a duplicate value at <code class="docutils literal notranslate"><span class="pre">1,1</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">row</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">col</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
</pre></div>
</div>
<p>In this case, we can see that there are <em>two</em> <code class="docutils literal notranslate"><span class="pre">data</span></code> values that correspond to the <code class="docutils literal notranslate"><span class="pre">1,1</span></code> location in our final array. <a class="reference internal" href="../reference/sparse.html#module-scipy.sparse" title="scipy.sparse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.sparse</span></code></a> will store these values separately:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dupes</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">coo_array</span><span class="p">((</span><span class="n">data</span><span class="p">,</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dupes</span>
<span class="go">&lt;3x4 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">     with 6 stored elements in COOrdinate format&gt;</span>
</pre></div>
</div>
<p>Note that there are six stored elements in this sparse array, despite only having five unique locations where data occurs. When these arrays are converted back to dense arrays, the duplicate values are summed. So, at location <code class="docutils literal notranslate"><span class="pre">1,1</span></code>, the dense array will contain the sum of duplicate stored entries, <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">3</span></code>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dupes</span><span class="o">.</span><span class="n">todense</span><span class="p">()</span>
<span class="go">array([[1, 0, 0, 2],</span>
<span class="go">      [0, 4, 1, 0],</span>
<span class="go">      [0, 0, 5, 0]])</span>
</pre></div>
</div>
<p>To remove duplicate values within the sparse array itself and thus reduce the number of stored elements, we can use the <code class="docutils literal notranslate"><span class="pre">.sum_duplicates()</span></code> method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dupes</span><span class="o">.</span><span class="n">sum_duplicates</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dupes</span>
<span class="go">&lt;3x4 sparse array of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;</span>
<span class="go">     with 5 stored elements in COOrdinate format&gt;</span>
</pre></div>
</div>
<p>Now there are only five stored elements in our sparse array, and it is identical to the array we have been working with throughout this guide:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dupes</span><span class="o">.</span><span class="n">todense</span><span class="p">()</span>
<span class="go">array([[1, 0, 0, 2],</span>
<span class="go">       [0, 4, 1, 0],</span>
<span class="go">       [0, 0, 5, 0]])</span>
</pre></div>
</div>
</section>
<section id="canonical-formats">
<h2>Canonical formats<a class="headerlink" href="#canonical-formats" title="Permalink to this heading">#</a></h2>
<p>Several sparse array formats have “canonical formats” to allow for more efficient operations.
Generally these consist of added restrictions like:</p>
<ul class="simple">
<li><p>No duplicate entries for any value</p></li>
<li><p>Sorted indices</p></li>
</ul>
<p>Classes with a canonical form include: <a class="reference internal" href="../reference/generated/scipy.sparse.coo_array.html#scipy.sparse.coo_array" title="scipy.sparse.coo_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">coo_array</span></code></a>, <a class="reference internal" href="../reference/generated/scipy.sparse.csr_array.html#scipy.sparse.csr_array" title="scipy.sparse.csr_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">csr_array</span></code></a>, <a class="reference internal" href="../reference/generated/scipy.sparse.csc_array.html#scipy.sparse.csc_array" title="scipy.sparse.csc_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">csc_array</span></code></a>, and <a class="reference internal" href="../reference/generated/scipy.sparse.bsr_array.html#scipy.sparse.bsr_array" title="scipy.sparse.bsr_array"><code class="xref py py-func docutils literal notranslate"><span class="pre">bsr_array</span></code></a>.
See the docstrings of these classes for details on each canonical representation.</p>
<p>To check if an instance of these classes is in canonical form, use the <code class="docutils literal notranslate"><span class="pre">.has_canonical_format</span></code> attribute:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coo</span> <span class="o">=</span> <span class="n">sp</span><span class="o">.</span><span class="n">sparse</span><span class="o">.</span><span class="n">coo_array</span><span class="p">(([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coo</span><span class="o">.</span><span class="n">has_canonical_format</span>
<span class="go">False</span>
</pre></div>
</div>
<p>To convert an instance to canonical form, use the <code class="docutils literal notranslate"><span class="pre">.sum_duplicates()</span></code> method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">coo</span><span class="o">.</span><span class="n">sum_duplicates</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">coo</span><span class="o">.</span><span class="n">has_canonical_format</span>
<span class="go">True</span>
</pre></div>
</div>
</section>
<section id="next-steps-with-sparse-arrays">
<h2>Next steps with sparse arrays<a class="headerlink" href="#next-steps-with-sparse-arrays" title="Permalink to this heading">#</a></h2>
<p>Sparse array types are most helpful when working with large, nearly empty arrays. Specifically, <a class="reference external" href="https://docs.scipy.org/doc/scipy/tutorial/arpack.html">sparse linear algebra</a> and <a class="reference external" href="https://docs.scipy.org/doc/scipy/tutorial/csgraph.html">sparse graph methods</a> see the largest improvements in efficiency in these circumstances.</p>
</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="linalg.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Linear Algebra (<code class="xref py py-obj docutils literal notranslate"><span class="pre">scipy.linalg</span></code>)</p>
      </div>
    </a>
    <a class="right-next"
       href="arpack.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Sparse eigenvalue problems with ARPACK</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#introduction">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#getting-started-with-sparse-arrays">Getting started with sparse arrays</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#understanding-sparse-array-formats">Understanding sparse array formats</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sparse-arrays-implicit-zeros-and-duplicates">Sparse arrays, implicit zeros, and duplicates</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#canonical-formats">Canonical formats</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps-with-sparse-arrays">Next steps with sparse arrays</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright 2008-2024, The SciPy community.
      <br/>
    
  </p>
</div>
      
        <div class="footer-item">

  <p class="sphinx-version">
    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    <br/>
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>